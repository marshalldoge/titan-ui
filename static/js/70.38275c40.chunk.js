(this["webpackJsonptitan-ui"]=this["webpackJsonptitan-ui"]||[]).push([[70],{292:function(e,t,a){"use strict";a.r(t);var n=a(58),o=a(59),l=a(62),i=a(61),s=a(0),c=a.n(s),r=a(10),p=a(21),d=a(79),u=a(22),h=a(25),g=a.n(h),f=(a(73),a(26),a(144),c.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(4),a.e(7)]).then(a.bind(null,158))}))),m=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={columns:[],data:[],columnDefs:[{headerName:"ID",field:"id",width:"10%"},{headerName:"Hora",field:"time",width:"15%"},{headerName:"Cliente",field:"idClient",width:"30%"},{headerName:"Pagado",field:"paid",width:"15%"},{headerName:"Total",field:"total",width:"15%"},{headerName:"Moneda",field:"idCurrency",width:"15%"}],loadPageFunction:null,length:null,windowHeight:document.body.clientHeight},e.setLoadPageFunction=function(){switch(console.log("SALE TABLE RENDERING: ",e.props.filterModel),e.props.filterModel){case"appUser":e.setState({loadPageFunction:e.loadSaleTablePageByIdAppUser});break;case"company":e.setState({loadPageFunction:e.loadSaleTablePageByIdCompany});break;case"client":e.setState({loadPageFunction:e.loadSaleTablePageByIdClient});break;default:console.log("No model given for sale table")}},e.setLength=function(){switch(console.log("SALE TABLE filtermodel:",e.props.filterModel),e.props.filterModel){case"appUser":console.log("AppUser SaleCount: ",e.props.appUserSaleCount),e.setState({length:e.props.appUserSaleCount});break;case"company":e.setState({length:e.props.companySaleCount});break;case"client":e.setState({length:e.props.clientSaleCount});break;default:console.log("No model given for sale table")}},e.onRowClick=function(t){console.log("Clicked row: ",t),e.props.history.push({pathname:"SaleProfile",search:"?idSale="+t.id})},e.SaleTable=function(){return null!=e.state.length&&e.state.loadPageFunction?c.a.createElement(f,{idCompany:e.props.idCompany,idAppUser:e.props.idAppUser,idClient:e.props.idClient,idShift:e.props.idShift,columnDefs:e.state.columnDefs,loadTablePage:e.state.loadPageFunction,length:e.state.length,onRowClick:e.onRowClick,title:"Pedidos",pageSize:e.props.pageSize?e.props.pageSize:Math.floor(e.state.windowHeight/50)}):null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setLoadPageFunction(),this.setLength()}},{key:"loadSaleTablePageByIdClient",value:function(e){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},a=this,n={idClient:this.props.idClient,page:e,pageSize:this.props.pageSize},o=Object(p.k)(d.a+"/Sale/findByIdClientPaginated",n);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&a.setState((function(a){for(var n=0;n<t.data.content.length;n++)t.data.content[n].time=g()(t.data.content[n].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return a.pageData[e]=t.data.content,console.log("New state:",a),a}))})).catch((function(e){console.log(e)}))}},{key:"loadSaleTablePageByIdCompany",value:function(e){console.log("asdafsdfasdfasdf");var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},a=this,n={idCompany:this.props.idCompany,page:e,pageSize:this.props.pageSize},o=Object(p.k)(d.a+"/Sale/findByIdCompanyPaginated",n);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&a.setState((function(a){for(var n=0;n<t.data.content.length;n++)t.data.content[n].time=g()(t.data.content[n].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return a.pageData[e]=t.data.content,console.log("Sale by company: :",a),a}))})).catch((function(e){console.log(e)}))}},{key:"loadSaleTablePageByIdAppUser",value:function(e){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},a=this,n={idAppUser:this.props.idAppUser,page:e,pageSize:this.props.pageSize},o=Object(p.k)(d.a+"/Sale/findByIdAppUserPaginated",n);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&a.setState((function(a){for(var n=0;n<t.data.content.length;n++)t.data.content[n].time=g()(t.data.content[n].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return a.pageData[e]=t.data.content,console.log("New state:",a),a}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log("length : ",this.state.length),console.log("loadpagefunc: ",this.state.loadPageFunction),c.a.createElement("div",null,this.SaleTable())}}]),a}(s.Component);t.default=Object(r.g)(Object(u.b)((function(e,t){var a=e.appUserReducer,n=e.moduleReducer,o=e.companyReducer,l=e.clientReducer,i=a.idCompany,s=n.modules,c=a.saleCount,r=o.saleCount;console.log("Clien hashmap: ",l.clientHashMap),console.log("ownprops: ",t);var p=null;return t.idClient&&(p=l.clientHashMap[t.idClient].saleCount),console.log("AppUser reducer:",a),{idCompany:i,modules:s,appUserSaleCount:c,companySaleCount:r,clientSaleCount:p}}))(m))}}]);
//# sourceMappingURL=70.38275c40.chunk.js.map