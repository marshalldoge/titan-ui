(this["webpackJsonptitan-ui"]=this["webpackJsonptitan-ui"]||[]).push([[46],{162:function(t,e,n){},329:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return i})),n.d(e,"q",(function(){return u})),n.d(e,"t",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"s",(function(){return p})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return y})),n.d(e,"r",(function(){return m})),n.d(e,"o",(function(){return b})),n.d(e,"n",(function(){return j})),n.d(e,"u",(function(){return C})),n.d(e,"c",(function(){return v})),n.d(e,"i",(function(){return g})),n.d(e,"b",(function(){return O})),n.d(e,"j",(function(){return S})),n.d(e,"p",(function(){return A}));var o=n(2),a=function(t){return{type:o.f,payload:{AppUser:t}}},c=function(t){return{type:o.f,payload:{AppUser:t}}},r=function(t){return{type:o.n,payload:{Shift:t}}},i=function(t){return{type:o.o,payload:{idWarehouse:t}}},u=function(t){return{type:o.s,payload:{Modules:t}}},s=function(t){return{type:o.v,payload:t}},l=function(t){return{type:o.e,payload:t}},d=function(){return{type:o.a,payload:{}}},p=function(t){return{type:o.t,payload:t}},h=function(t){return{type:o.h,payload:t}},f=function(t){return{type:o.g,payload:t}},y=function(t){return{type:o.i,payload:t}},m=function(t){return{type:o.u,payload:t}},b=function(t){return{type:o.p,payload:t}},j=function(t){return{type:o.q,payload:t}},C=function(t){return{type:o.w,payload:t}},v=function(){return{type:o.c}},g=function(t){return{type:o.j,payload:t}},O=function(t){return{type:o.d,payload:t}},S=function(t){return{type:o.k,payload:t}},A=function(t){return{type:o.r,payload:t}}},501:function(t,e,n){t.exports=n.p+"static/media/loading.22043e8c.gif"},79:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o="http://54.212.44.22:8080/services"},793:function(t,e,n){"use strict";n.r(e);var o=n(58),a=n(59),c=n(87),r=n(62),i=n(61),u=n(0),s=n.n(u),l=n(10),d=n(794),p=(n(73),n(162),n(21)),h=n(329),f=n(25),y=n.n(f),m=n(22),b=n(79),j=n(501),C=n.n(j),v=s.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(6),n.e(32)]).then(n.bind(null,602))})),g=s.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(6),n.e(30),n.e(58)]).then(n.bind(null,607))})),O=s.a.lazy((function(){return n.e(40).then(n.bind(null,790))})),S=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={collapsed:!1,activeSubmenu:"NewsFeed",userData:{},successfulLoad:!0,servicesToLoad:10,loadedServices:0},a.componentDidMount=function(){a.props.setIdAppUser(Object(p.c)("idAppUser")),a.loadAppUser(),a.loadModules(),a.loadNitIdClientHashMap(),a.loadClientHashMap(),a.loadItemQuantity(),a.loadWarehouse(),a.loadShift(),a.loadCompany(),a.loadCurrency(),a.loadMeasure()},a.loadNitIdClientHashMap=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Client/nitIdClientHashMap",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setNitIdClientHashMap(t),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V9"),t}))})).catch((function(t){e.logout(),console.log(t)}))},a.loadClientNitByIdCompany=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Client/NitByIdCompany",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setNitIdClientHashMap(t)})).catch((function(t){e.logout(),console.log(t)}))},a.loadClientHashMap=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Client/ClientHashMapByIdCompany",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setClientData(t),console.log("CLIENT DATA ",t);var n=[],o=[],a={},c={},r=[];for(var i in t)t.hasOwnProperty(i)&&(c[t[i].cellphone]=t[i],r.push(t[i].cellphone),n.push(t[i].billName),o.push(t[i].nit),a[t[i].nit]=t[i]);console.log("clientNit made in request: ",o),e.props.setClientNitArray({clientNit:o,phoneArray:r,phoneClientHashMap:c}),e.props.setClientBillNameArray(n),e.props.setNitClientHashMap(a),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V8"),t}))})).catch((function(t){e.logout(),console.log(t)}))},a.loadWarehouse=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Warehouse/warehouseHashMap",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setWarehouse(t),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V4"),t}))})).catch((function(t){e.logout(),console.log(t)}))},a.loadShift=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idAppUser:Object(p.c)("idAppUser")},o=Object(p.k)(b.a+"/Shift/currentShift",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){console.log("Result of SHIFT: ",t),t.success&&(t.data.open=y()(t.data.open,"YYYY-MM-DD[T]HH:mm:ss"),console.log("data.data: ",t.data),e.props.setShift(t.data)),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V3"),t}))})).catch((function(t){e.logout(),console.log(t)}))},a.loadCompany=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Company/findById",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){console.log("V2?",t),t.success&&(e.props.setCompany(t.data),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V2"),t})))})).catch((function(t){e.logout(),console.log(t)}))},a.loadMeasure=function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=Object(c.a)(a),n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/Measure/measureHashMap",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){t.success&&(e.props.setMeasure(t.data),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V10"),t})))})).catch((function(t){e.logout(),console.log(t)}))},a.handleActiveSubmenu=function(t){a.setState({activeSubmenu:t}),console.log("GOING TO SUBMENU; ",t.replace(/\s/g,"")),a.props.history.push(t.replace(/\s/g,""))},a.onCollapse=function(t){a.setState({collapsed:t})},a.logout=function(){Object(p.a)("JWT"),a.props.history.push("/login")},a.Loading=function(){return s.a.createElement("div",{style:{width:"100%",height:"100%",verticalAlign:"middle",textAlign:"center"}},s.a.createElement("img",{src:C.a,alt:"Cargando..."}))},a.Body=function(){return s.a.createElement(O,{style:{height:"100%"},activeSubmenu:a.state.activeSubmenu})},a.handleActiveSubmenu=a.handleActiveSubmenu.bind(Object(c.a)(a)),a}return Object(a.a)(n,[{key:"loadAppUser",value:function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=this,n={idAppUser:Object(p.c)("idAppUser")},o=Object(p.k)(b.a+"/AppUser",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setAppUser(t),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V7"),t}))})).catch((function(t){e.logout(),console.log(t)}))}},{key:"loadModules",value:function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=this,n={idAppUser:Object(p.c)("idAppUser"),loc:!1},o=Object(p.k)(b.a+"/AppUserModuleAction/reducer",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setModules(t),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V6"),t}))})).catch((function(t){e.logout(),console.log(t)}))}},{key:"loadItemQuantity",value:function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=this,n={idCompany:Object(p.c)("idCompany")},o=Object(p.k)(b.a+"/WarehouseItemQuantity/itemQuantityHashMap",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){e.props.setItemQuantityHashMap(t),console.log("ItemQuanitity data: ",t);var n={},o={},a=[];for(var c in t)if(t.hasOwnProperty(c))for(var r in n[c]=[],t[c])t[c].hasOwnProperty(r)&&(n[c].push(r),a.push(t[c][r].name),o[t[c][r].name]=t[c][r]);console.log("Item codes: ",n),e.props.setItemQuantityCode({itemQuantityCode:n,nameItemHashMap:o,itemNameArray:a}),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V5"),t}))})).catch((function(t){e.logout(),console.log(t)}))}},{key:"loadCurrency",value:function(){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(p.b)("JWT")},e=this,n={idAppUser:Object(p.c)("idAppUser")},o=Object(p.k)(b.a+"/Currency/reducer",n);fetch(o,{method:"GET",headers:t}).then((function(t){return t.json()})).then((function(t){t.success&&(e.props.setCurrency(t.data),e.setState((function(t){return t.loadedServices=t.loadedServices+1,console.log(":V"),t})))})).catch((function(t){e.logout(),console.log(t)}))}},{key:"render",value:function(){return s.a.createElement(d.a,{style:{minHeight:"100vh"}},s.a.createElement(v,{handleActiveSubmenu:this.handleActiveSubmenu}),s.a.createElement(d.a,{style:{overflow:"hidden"}},s.a.createElement(g,{style:{height:"100%"}}),this.state.loadedServices===this.state.servicesToLoad?this.Body():this.Loading()))}}]),n}(u.Component);e.default=Object(l.g)(Object(m.b)(null,{setIdAppUser:h.k,setAppUser:h.e,setModules:h.q,setClientData:h.g,setNitIdClientHashMap:h.s,setClientBillNameArray:h.f,setClientNitArray:h.h,setNitClientHashMap:h.r,setItemQuantityHashMap:h.o,setItemQuantityCode:h.n,setWarehouse:h.u,setShift:h.t,setCompany:h.i,setCurrency:h.j,setMeasure:h.p})(S))}}]);
//# sourceMappingURL=46.f104b6ec.chunk.js.map