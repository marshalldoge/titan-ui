(this["webpackJsonptitan-ui"]=this["webpackJsonptitan-ui"]||[]).push([[45,63,70],{144:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(58),o=n(59),l=n(62),c=n(61),i=n(0),r=n.n(i),s=n(10),d=n(21),u=n(79),p=n(22),m=n(25),f=n.n(m),h=(n(73),n(26),n(144),r.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(7)]).then(n.bind(null,158))}))),b=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={columns:[],data:[],columnDefs:[{headerName:"ID",field:"id",width:"10%"},{headerName:"Hora",field:"time",width:"15%"},{headerName:"Cliente",field:"idClient",width:"30%"},{headerName:"Pagado",field:"paid",width:"15%"},{headerName:"Total",field:"total",width:"15%"},{headerName:"Moneda",field:"idCurrency",width:"15%"}],loadPageFunction:null,length:null,windowHeight:document.body.clientHeight},e.setLoadPageFunction=function(){switch(console.log("SALE TABLE RENDERING: ",e.props.filterModel),e.props.filterModel){case"appUser":e.setState({loadPageFunction:e.loadSaleTablePageByIdAppUser});break;case"company":e.setState({loadPageFunction:e.loadSaleTablePageByIdCompany});break;case"client":e.setState({loadPageFunction:e.loadSaleTablePageByIdClient});break;default:console.log("No model given for sale table")}},e.setLength=function(){switch(console.log("SALE TABLE filtermodel:",e.props.filterModel),e.props.filterModel){case"appUser":console.log("AppUser SaleCount: ",e.props.appUserSaleCount),e.setState({length:e.props.appUserSaleCount});break;case"company":e.setState({length:e.props.companySaleCount});break;case"client":e.setState({length:e.props.clientSaleCount});break;default:console.log("No model given for sale table")}},e.onRowClick=function(t){console.log("Clicked row: ",t),e.props.history.push({pathname:"SaleProfile",search:"?idSale="+t.id})},e.SaleTable=function(){return null!=e.state.length&&e.state.loadPageFunction?r.a.createElement(h,{idCompany:e.props.idCompany,idAppUser:e.props.idAppUser,idClient:e.props.idClient,idShift:e.props.idShift,columnDefs:e.state.columnDefs,loadTablePage:e.state.loadPageFunction,length:e.state.length,onRowClick:e.onRowClick,title:"Pedidos",pageSize:e.props.pageSize?e.props.pageSize:Math.floor(e.state.windowHeight/50)}):null},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setLoadPageFunction(),this.setLength()}},{key:"loadSaleTablePageByIdClient",value:function(e){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(d.b)("JWT")},n=this,a={idClient:this.props.idClient,page:e,pageSize:this.props.pageSize},o=Object(d.k)(u.a+"/Sale/findByIdClientPaginated",a);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&n.setState((function(n){for(var a=0;a<t.data.content.length;a++)t.data.content[a].time=f()(t.data.content[a].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return n.pageData[e]=t.data.content,console.log("New state:",n),n}))})).catch((function(e){console.log(e)}))}},{key:"loadSaleTablePageByIdCompany",value:function(e){console.log("asdafsdfasdfasdf");var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(d.b)("JWT")},n=this,a={idCompany:this.props.idCompany,page:e,pageSize:this.props.pageSize},o=Object(d.k)(u.a+"/Sale/findByIdCompanyPaginated",a);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&n.setState((function(n){for(var a=0;a<t.data.content.length;a++)t.data.content[a].time=f()(t.data.content[a].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return n.pageData[e]=t.data.content,console.log("Sale by company: :",n),n}))})).catch((function(e){console.log(e)}))}},{key:"loadSaleTablePageByIdAppUser",value:function(e){var t={"Content-Type":"application/json; charset=utf-8",Authorization:Object(d.b)("JWT")},n=this,a={idAppUser:this.props.idAppUser,page:e,pageSize:this.props.pageSize},o=Object(d.k)(u.a+"/Sale/findByIdAppUserPaginated",a);fetch(o,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){t.success&&n.setState((function(n){for(var a=0;a<t.data.content.length;a++)t.data.content[a].time=f()(t.data.content[a].time,"YYYY-MM-DD[T]HH:mm:ss").format("HH:mm:ss");return n.pageData[e]=t.data.content,console.log("New state:",n),n}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log("length : ",this.state.length),console.log("loadpagefunc: ",this.state.loadPageFunction),r.a.createElement("div",null,this.SaleTable())}}]),n}(i.Component);t.default=Object(s.g)(Object(p.b)((function(e,t){var n=e.appUserReducer,a=e.moduleReducer,o=e.companyReducer,l=e.clientReducer,c=n.idCompany,i=a.modules,r=n.saleCount,s=o.saleCount;console.log("Clien hashmap: ",l.clientHashMap),console.log("ownprops: ",t);var d=null;return t.idClient&&(d=l.clientHashMap[t.idClient].saleCount),console.log("AppUser reducer:",n),{idCompany:c,modules:i,appUserSaleCount:r,companySaleCount:s,clientSaleCount:d}}))(b))},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(0),o=a.isValidElement;function l(e,t,n){return o(e)?a.cloneElement(e,"function"===typeof n?n():n):t}function c(e,t){return l(e,e,t)}},788:function(e,t,n){"use strict";var a=n(55),o=n.n(a),l=n(68),c=n.n(l),i=n(77),r=n.n(i),s=n(0),d=n(49),u=n.n(d),p=n(72),m=n(269),f=n(60),h=n(161);function b(e){return void 0!==e&&null!==e}var g=function(e){var t,n=e.itemPrefixCls,a=e.component,l=e.span,c=e.className,i=e.style,r=e.bordered,d=e.label,p=e.content,m=e.colon,f=a;return r?s.createElement(f,{className:u()((t={},o()(t,"".concat(n,"-item-label"),b(d)),o()(t,"".concat(n,"-item-content"),b(p)),t),c),style:i,colSpan:l},b(d)?d:p):s.createElement(f,{className:u()("".concat(n,"-item"),c),style:i,colSpan:l},d&&s.createElement("span",{className:u()("".concat(n,"-item-label"),o()({},"".concat(n,"-item-no-colon"),!m))},d),p&&s.createElement("span",{className:u()("".concat(n,"-item-content"))},p))};function y(e,t,n){var a=t.colon,o=t.prefixCls,l=t.bordered,c=n.component,i=n.type,r=n.showLabel,d=n.showContent;return e.map((function(e,t){var n=e.props,u=n.label,p=n.children,m=n.prefixCls,f=void 0===m?o:m,h=n.className,b=n.style,y=n.span,v=void 0===y?1:y,C=e.key;return"string"===typeof c?s.createElement(g,{key:"".concat(i,"-").concat(C||t),className:h,style:b,span:v,colon:a,component:c,itemPrefixCls:f,bordered:l,label:r?u:null,content:d?p:null}):[s.createElement(g,{key:"label-".concat(C||t),className:h,style:b,span:1,colon:a,component:c[0],itemPrefixCls:f,bordered:l,label:u}),s.createElement(g,{key:"content-".concat(C||t),className:h,style:b,span:2*v-1,component:c[1],itemPrefixCls:f,bordered:l,content:p})]}))}var v=function(e){var t=e.prefixCls,n=e.vertical,a=e.row,o=e.index,l=e.bordered;return n?s.createElement(s.Fragment,null,s.createElement("tr",{key:"label-".concat(o),className:"".concat(t,"-row")},y(a,e,{component:"th",type:"label",showLabel:!0})),s.createElement("tr",{key:"content-".concat(o),className:"".concat(t,"-row")},y(a,e,{component:"td",type:"content",showContent:!0}))):s.createElement("tr",{key:o,className:"".concat(t,"-row")},y(a,e,{component:l?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0}))},C=function(e){return e.children},S=n(67),E={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function w(e,t,n){var a=e;return(void 0===t||t>n)&&(a=Object(S.a)(e,{span:n}),Object(f.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),a}function j(e){var t,n=e.prefixCls,a=e.title,l=e.extra,i=e.column,d=void 0===i?E:i,f=e.colon,b=void 0===f||f,g=e.bordered,y=e.layout,C=e.children,S=e.className,j=e.style,N=e.size,k=s.useContext(h.b),P=k.getPrefixCls,T=k.direction,O=P("descriptions",n),x=s.useState({}),A=c()(x,2),D=A[0],I=A[1],U=function(e,t){if("number"===typeof e)return e;if("object"===r()(e))for(var n=0;n<m.b.length;n++){var a=m.b[n];if(t[a]&&void 0!==e[a])return e[a]||E[a]}return 3}(d,D);s.useEffect((function(){var e=m.a.subscribe((function(e){"object"===r()(d)&&I(e)}));return function(){m.a.unsubscribe(e)}}),[]);var H=function(e,t){var n=Object(p.a)(e).filter((function(e){return e})),a=[],o=[],l=t;return n.forEach((function(e,c){var i,r=null===(i=e.props)||void 0===i?void 0:i.span,s=r||1;if(c===n.length-1)return o.push(w(e,r,l)),void a.push(o);s<l?(l-=s,o.push(e)):(o.push(w(e,s,l)),a.push(o),l=t,o=[])})),a}(C,U);return s.createElement("div",{className:u()(O,S,(t={},o()(t,"".concat(O,"-").concat(N),N&&"default"!==N),o()(t,"".concat(O,"-bordered"),!!g),o()(t,"".concat(O,"-rtl"),"rtl"===T),t)),style:j},(a||l)&&s.createElement("div",{className:"".concat(O,"-header")},a&&s.createElement("div",{className:"".concat(O,"-title")},a),l&&s.createElement("div",{className:"".concat(O,"-extra")},l)),s.createElement("div",{className:"".concat(O,"-view")},s.createElement("table",null,s.createElement("tbody",null,H.map((function(e,t){return s.createElement(v,{key:t,index:t,colon:b,prefixCls:O,vertical:"vertical"===y,bordered:g,row:e})}))))))}j.Item=C;t.a=j},861:function(e,t,n){"use strict";n.r(t);var a=n(58),o=n(59),l=n(87),c=n(62),i=n(61),r=n(0),s=n.n(r),d=n(10),u=n(495),p=n(788),m=(n(73),n(23),n(21)),f=n(22),h=n(79),b=n(292),g=u.a.TabPane,y=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={client:null,tabIndex:0},e.descriptionStyle={background:"white",borderRadius:"10px",padding:"10px",width:"100%",marginTop:"5px"},e.loadClientData=function(){var t=Object(m.f)("idClient"),n={"Content-Type":"application/json; charset=utf-8",Authorization:Object(m.b)("JWT")},a=Object(l.a)(e),o={idClient:t},c=Object(m.k)(h.a+"/Client/findById",o);fetch(c,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){a.setState({client:e.data})}))},e.clientDescription=function(){return s.a.createElement(p.a,{title:"Informacion personal: ",layout:"vertical",column:3,style:e.descriptionStyle},s.a.createElement(p.a.Item,{label:"Nombre Factura"},e.state.client.billName),s.a.createElement(p.a.Item,{label:"NIT"},e.state.client.nit),s.a.createElement(p.a.Item,{label:"Nombre Completo"},e.state.client.fullName),s.a.createElement(p.a.Item,{label:"Celular"},e.state.client.cellphone),s.a.createElement(p.a.Item,{label:"Ubicacion"},e.state.client.location))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.loadClientData()}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.client&&this.clientDescription(),s.a.createElement(u.a,{defaultActiveKey:"1",onChange:this.callback},s.a.createElement(g,{tab:"Pedidos",key:"1"},this.state.client&&s.a.createElement(b.default,{idClient:this.state.client.id,filterModel:"client",pageSize:10}))))}}]),n}(r.Component);t.default=Object(d.g)(Object(f.b)((function(e){var t=e.appUserReducer.idAppUser;return console.log("idAPPuser for news: ",t),{idAppUser:t}}))(y))}}]);
//# sourceMappingURL=45.8165ffb6.chunk.js.map