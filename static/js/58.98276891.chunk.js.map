{"version":3,"sources":["components/Header/Header.js"],"names":["Header","Layout","Sidebar","state","collapsed","menuData","componentDidMount","headers","Authorization","getCookie","params","idAppUser","getJWtProperty","me","url","withParams","constants","fetch","method","then","response","json","data","setState","logout","deleteCookie","props","history","push","menu","Item","onClick","this","className","style","width","paddingRight","theme","mode","float","padding","paddingTop","verticalAlign","height","overlay","firstName","Component","withRouter","connect","appUserReducer"],"mappings":"4PAWOA,G,OAAUC,IAAVD,QAEDE,E,4MAEFC,MAAQ,CACJC,WAAW,EACXC,SAAU,I,EAGdC,kBAAoB,WAChB,IAAIC,EAAU,CACV,eAAgB,kCAChBC,cAAeC,YAAU,QAEzBC,EAAS,CACTC,UAAWC,YAAe,cAE1BC,EAAE,eACFC,EAAMC,YAAWC,IAAsB,WAAYN,GACvDO,MAAMH,EAAK,CACPI,OAAQ,MACRX,QAASA,IAERY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAUG,GAoBZT,EAAGU,SAAS,CAAClB,SAAUiB,EAAI,c,EAIvCE,OAAS,WACLC,YAAa,OACb,EAAKC,MAAMC,QAAQC,KAAK,W,uDAIxB,IAAMC,EACF,kBAAC,IAAD,KACI,kBAAC,IAAKC,KAAN,eAGA,kBAAC,IAAKA,KAAN,sBAGA,kBAAC,IAAKA,KAAN,CAAWC,QAASC,KAAKR,QAAzB,UAKR,OACI,kBAACxB,EAAD,CAAQiC,UAAW,UAAWC,MAAO,CAACC,MAAO,OAAQC,aAAc,QAC/D,kBAAC,IAAD,CACIC,MAAM,OACNC,KAAK,aACLJ,MAAO,CACHK,MAAO,QACPC,QAAS,IACTJ,aAAc,OACdK,WAAY,MACZC,cAAe,SACfC,OAAQ,SAGZ,kBAAC,IAAD,CAAUC,QAASf,GACf,yBAAKI,UAAU,qBACVD,KAAKN,MAAMmB,UADhB,IAC2B,kBAAC,IAAD,c,GAjF7BC,aAiGPC,sBAAWC,aAPF,SAAA7C,GAAU,IACtB8C,EAAmB9C,EAAnB8C,eAGR,MAAO,CAACJ,UADyBI,EAAzBJ,UACWlC,UADcsC,EAAdtC,aAIGqC,CAAyB9C,K","file":"static/js/58.98276891.chunk.js","sourcesContent":["import React, {Component } from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport { DownOutlined } from '@ant-design/icons';\nimport { Layout, Menu, Dropdown } from \"antd\";\nimport {getCookie, withParams, deleteCookie} from \"../../utils.js\";\nimport \"antd/dist/antd.css\";\nimport {connect} from \"react-redux\";\nimport * as constants from \"../../constants\";\nimport {getJWtProperty} from \"../../utils\";\nimport \"./_Header.scss\";\n\nconst {Header} = Layout;\n\nclass Sidebar extends Component {\n\n    state = {\n        collapsed: false,\n        menuData: []\n    };\n\n    componentDidMount = () => {\n        let headers = {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            Authorization: getCookie(\"JWT\")\n        };\n        let params = {\n            idAppUser: getJWtProperty(\"idAppUser\")\n        };\n        let me = this;\n        var url = withParams(constants.BACKEND_URL+\"/AppUser\", params);\n        fetch(url, {\n            method: \"GET\",\n            headers: headers\n        })\n            .then(response => response.json())\n            .then(function (data) {\n                /*Example data:\n                \"sidebar\": [\n                    {\n                        \"menuItems\": [\n                            \"Por Cantidad\",\n                            \"Por Almacen\"\n                        ],\n                        \"logo\": \"dropbox\",\n                        \"submenuTitle\": \"Productos\"\n                    },\n                    {\n                        \"menuItems\": [\n                            \"Borrar\"\n                        ],\n                        \"logo\": \"user\",\n                        \"submenuTitle\": \"Usuarios\"\n                    }\n                ]\n                */\n                me.setState({menuData: data[\"sidebar\"]});\n            });\n    };\n\n    logout = () => {\n        deleteCookie(\"JWT\");\n        this.props.history.push(\"/login\");\n    };\n\n    render() {\n        const menu = (\n            <Menu>\n                <Menu.Item>\n                    Perfil\n                </Menu.Item>\n                <Menu.Item>\n                    Configuracion\n                </Menu.Item>\n                <Menu.Item onClick={this.logout}>\n                    Salir\n                </Menu.Item>\n            </Menu>\n        );\n        return (\n            <Header className={\"THeader\"} style={{width: \"100%\", paddingRight: \"0px\"}}>\n                <Menu\n                    theme=\"dark\"\n                    mode=\"horizontal\"\n                    style={{\n                        float: \"right\",\n                        padding: \"0\",\n                        paddingRight: \"20px\",\n                        paddingTop: \"8px\",\n                        verticalAlign: \"center\",\n                        height: \"100%\"\n                    }}\n                >\n                    <Dropdown overlay={menu}>\n                        <div className=\"ant-dropdown-link\">\n                            {this.props.firstName} <DownOutlined />\n                        </div>\n                    </Dropdown>\n                </Menu>\n            </Header>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const { appUserReducer } = state;\n    //console.log(\"REDUCER OF APP: \",appUserReducer);\n    const { firstName, idAppUser } = appUserReducer;\n    return {firstName, idAppUser};\n};\n\nexport default withRouter(connect(mapStateToProps)(Sidebar));\n"],"sourceRoot":""}